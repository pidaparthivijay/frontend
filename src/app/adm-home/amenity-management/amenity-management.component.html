<button class="btn-primary" (click)="viewAmenitiesList()">List All Amenities</button> &nbsp;&nbsp;&nbsp;&nbsp;
<button class="btn-primary" (click)="createNewAmenity()">New Amenity</button>
<br>
<br>
<p-table #amenityTable *ngIf="!newAmenity && viewAmenities" [style]="{'width':'50%','margin-top':'8px'}"
    [value]="amenitiesList" [globalFilterFields]="[columns]" [paginator]=" true" [rows]="10">
    <ng-template pTemplate="caption">
        <i class="pi pi-search" style="margin:4px 4px 0 0"></i>
        <input type="text" pInputText size="50" placeholder="Global Filter"
            (input)="amenityTable.filterGlobal($event.target.value, 'contains')" style="width:auto">
    </ng-template>
    <ng-template pTemplate="header">
        <tr>
            <th pSortableColumn="amenityId">Amenity Id<p-sortIcon field="amenityId"></p-sortIcon>
            </th>
            <th pSortableColumn="amenityName">Amenity Name<p-sortIcon field="amenityName"></p-sortIcon>
            </th>
            <th pSortableColumn="price">Price Per Day<p-sortIcon field="price"></p-sortIcon>
            </th>
            <th>Deleted</th>
            <th>Action</th>
        </tr>
        <tr>
            <th>
                <input pInputText type="text"
                    (input)="amenityTable.filter($event.target.value, 'amenityId', 'contains')" placeholder="Amenity Id"
                    class="p-column-filter">
            </th>
            <th>
                <input pInputText type="text"
                    (input)="amenityTable.filter($event.target.value, 'amenityName', 'contains')" placeholder="Name"
                    class="p-column-filter">
            </th>
            <th>
                <input pInputText type="text" (input)="amenityTable.filter($event.target.value, 'price', 'contains')"
                    placeholder="Price Per Day" class="p-column-filter">
            </th>
            <th></th>
            <th></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-amenity let-editing="editing" let-ri="rowIndex">
        <tr [pEditableRow]="amenity">
            <td>{{amenity.amenityId}}</td>
            <td pEditableColumn>
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input pInputText type="text" [(ngModel)]="amenity.amenityName" amenityName>
                    </ng-template>
                    <ng-template pTemplate="output">
                        {{amenity.amenityName}}
                    </ng-template>
                </p-cellEditor>
            </td>
            <td pEditableColumn>
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input pInputText type="number" min="100" [(ngModel)]="amenity.price" amenityPrice>
                    </ng-template>
                    <ng-template pTemplate="output">
                        {{amenity.price}}
                    </ng-template>
                </p-cellEditor>
            </td>
            <td>
                <button class="btn-primary" (click)="toggleDelete(amenity.amenityName)">
                    <div *ngIf="amenity.deleted != 'Y'">Delete</div>
                    <div *ngIf="amenity.deleted === 'Y'">Undelete</div>
                </button>
            </td>
            <td><button class="btn-primary" (click)="updateAmenity(amenity)">
                    Update</button></td>
        </tr>
    </ng-template>
</p-table>
<div class="center" *ngIf="newAmenity && !viewAmenities">
    <form [formGroup]="amenityRegistrationForm" (ngSubmit)="createAmenity()">
        <table class="table table-striped table-hover" style="width: 25rem;">
            <tr>
                <td colspan="2">
                    <div class="form-group">
                        <input type="text" formControlName="amenityName" class="form-control"
                            [ngClass]="{ 'is-invalid': submitted && f.amenityName.errors }" name="amenityName"
                            id="amenityName" placeholder="Name of the Amenity" style="width: 100%;">
                        <div *ngIf="submitted && f.amenityName.errors" class="invalid-feedback">
                            <div *ngIf="f.amenityName.errors.required">Name is required</div>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <div class="form-group">
                        <input type="price" class="form-control" title="Price of Amenity being provided"
                            [ngClass]="{ 'is-invalid': submitted && f.price.errors }" formControlName="price" id="price"
                            placeholder="Price" style="width: 100%;">
                        <div *ngIf="submitted && f.price.errors" class="invalid-feedback">
                            <div *ngIf="f.price.errors.required">Price is required</div>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td><input type="submit" class="btn-primary" value="Create Amenity"></td>
                <td><input type="reset" class="btn-primary" value="Reset"></td>
            </tr>
        </table>
    </form>
</div>