<div class="success">
  <span *ngIf="actionStatus"> An OTP has been sent to your registered mail Id.</span>
  <span *ngIf="otpValid"> The OTP has been vaidated. Please choose a new password.</span>
  <span *ngIf="rstPwdSuccess"> The password has been changed successfully.</span>
</div>
<div class="error">
  <span *ngIf="actionFailure"> The details are invalid.</span>
</div>
<div *ngIf="submitReq" class="float-right">
  <form [formGroup]="restorePwdForm" (ngSubmit)="restorePwd()">
    <table class="table table-striped table-hover" style="width: 25rem;">
      <tr>
        <td colspan="2">
          <div class="form-group">
            <input type="text" formControlName="userName" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f.userName.errors }" id="userName"
              placeholder="Your User Name Please" style="width: 100%;">
            <div *ngIf="submitted && f.userName.errors" class="invalid-feedback">
              <div *ngIf="f.userName.errors.required">User Name is required</div>
            </div>
          </div>
        </td>
      </tr>
      <tr>
      <tr>
        <td colspan="2">
          <div class="form-group">
            <input type="text" formControlName="userId" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f.userId.errors }" placeholder="Your User Id Please"
              style="width: 100%;">
            <div *ngIf="submitted && f.userId.errors" class="invalid-feedback">
              <div *ngIf="f.userId.errors.required">User Id is required</div>
            </div>
          </div>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <div class="form-group">
            <input type="email" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.userMail.errors }"
              formControlName="userMail" id="custMail" placeholder="Registered Email" style="width: 100%;">
            <div *ngIf="submitted && f.userMail.errors" class="invalid-feedback">
              <div *ngIf="f.userMail.errors.required">Mail Id is required</div>
            </div>
          </div>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <div class="form-group">
            <input type="tel" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.userMob.errors }"
              id="userMob" formControlName="userMob" placeholder="MobileNumber" style="width: 100%;">
            <div *ngIf="submitted && f.userMob.errors" class="invalid-feedback">
              <div *ngIf="f.userMob.errors.required">Mobile Number is required</div>
            </div>
          </div>
        </td>
      </tr>
      <tr>
        <td><input type="submit" class="btn-primary" value="Submit Request"></td>
        <td><input type="reset" class="btn-primary" value="Reset"></td>
      </tr>
    </table>
  </form>
</div>

<div *ngIf="otpSubmit" class="float-center">
  <form [formGroup]="otpForm" (ngSubmit)="otpFormSubmit()">
      <table class="table table-striped table-hover" style="width: 25rem;">
          <tr>
            <td colspan="2">
              <div class="form-group">
                <input type="text" formControlName="otpFormUserName" class="form-control"
                  [ngClass]="{ 'is-invalid': otpSubmitted && of.otpFormUserName.errors }" id="otpFormUserName"
                  placeholder="Your User Name Please" style="width: 100%;">
                <div *ngIf="otpSubmitted && of.otpFormUserName.errors" class="invalid-feedback">                    
                  <div *ngIf="of.otpFormUserName.errors.required">User Name is required</div>
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="2">
              <div class="form-group">
                <input type="text" formControlName="otpValue" class="form-control"
                  [ngClass]="{ 'is-invalid': otpSubmitted && of.otpValue.errors }" placeholder="OTP Please"
                  style="width: 100%;">
                <div *ngIf="otpSubmitted && of.otpValue.errors" class="invalid-feedback">
                  <div *ngIf="of.otpValue.errors.required">Enter Your OTP.</div>
                </div>
              </div>
            </td>
          </tr>
          <td><input type="submit" class="btn-primary" value="Submit OTP"></td>
        <td><input type="reset" class="btn-primary" value="Reset"></td>
      </table>    
  </form>  
</div>

<div *ngIf="rstPwd" class="float-left">
<form [formGroup]="resetPwdForm" (ngSubmit)="resetPwdSubmit()">
    <table class="table table-striped table-hover" style="width: 25rem;">
      <tr>
        <td colspan="2">
          <div class="form-group">
            <input type="text" formControlName="pwdUserName" class="form-control"
              [ngClass]="{ 'is-invalid': passSubmitted && pf.pwdUserName.errors }" id="userName"
              placeholder="Your User Name Please" style="width: 100%;">
            <div *ngIf="passSubmitted && pf.pwdUserName.errors" class="invalid-feedback">
              <div *ngIf="pf.pwdUserName.errors.required">User Name is required</div>
            </div>
          </div>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <div class="form-group">
            <input type="password" formControlName="newPassword" class="form-control"
              [ngClass]="{ 'is-invalid': passSubmitted && pf.newPassword.errors }" placeholder="New Password"
              style="width: 100%;">
            <div *ngIf="passSubmitted && pf.newPassword.errors" class="invalid-feedback">
              <div *ngIf="pf.newPassword.errors.required">Enter the New Password</div>
            </div>
          </div>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <div class="form-group">
            <input type="password" formControlName="reNewPassword" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && pf.reNewPassword.errors }" placeholder="Retype the  Password"
              style="width: 100%;">
            <div *ngIf="submitted && pf.reNewPassword.errors" class="invalid-feedback">
              <div *ngIf="pf.reNewPassword.errors.required">Confirm the New Password</div>
            </div>
          </div>
        </td>
      </tr>
      <tr>
          <td><input type="submit" class="btn-primary" value="Submit Password"></td>
          <td><input type="reset" class="btn-primary" value="Reset"></td>
      </tr>
  </table>
  </form>
</div>